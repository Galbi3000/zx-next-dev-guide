\chapter{Instructions at a Glance}

% ███████████████████████████████████████████████████████████████████████████████████████████████████
% █░░░░░░░░░░░░░░█░░░░░░█████████░░░░░░░░░░░░░░█░░░░░░██████████░░░░░░█░░░░░░░░░░░░░░█░░░░░░░░░░░░░░█
% █░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀░░█████████░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀░░░░░░░░░░██░░▄▀░░█░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀▄▀▄▀▄▀▄▀░░█
% █░░▄▀░░░░░░░░░░█░░▄▀░░█████████░░▄▀░░░░░░▄▀░░█░░▄▀▄▀▄▀▄▀▄▀░░██░░▄▀░░█░░▄▀░░░░░░░░░░█░░▄▀░░░░░░░░░░█
% █░░▄▀░░█████████░░▄▀░░█████████░░▄▀░░██░░▄▀░░█░░▄▀░░░░░░▄▀░░██░░▄▀░░█░░▄▀░░█████████░░▄▀░░█████████
% █░░▄▀░░█████████░░▄▀░░█████████░░▄▀░░░░░░▄▀░░█░░▄▀░░██░░▄▀░░██░░▄▀░░█░░▄▀░░█████████░░▄▀░░░░░░░░░░█
% █░░▄▀░░██░░░░░░█░░▄▀░░█████████░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀░░██░░▄▀░░██░░▄▀░░█░░▄▀░░█████████░░▄▀▄▀▄▀▄▀▄▀░░█
% █░░▄▀░░██░░▄▀░░█░░▄▀░░█████████░░▄▀░░░░░░▄▀░░█░░▄▀░░██░░▄▀░░██░░▄▀░░█░░▄▀░░█████████░░▄▀░░░░░░░░░░█
% █░░▄▀░░██░░▄▀░░█░░▄▀░░█████████░░▄▀░░██░░▄▀░░█░░▄▀░░██░░▄▀░░░░░░▄▀░░█░░▄▀░░█████████░░▄▀░░█████████
% █░░▄▀░░░░░░▄▀░░█░░▄▀░░░░░░░░░░█░░▄▀░░██░░▄▀░░█░░▄▀░░██░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀░░░░░░░░░░█░░▄▀░░░░░░░░░░█
% █░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀░░██░░▄▀░░█░░▄▀░░██░░░░░░░░░░▄▀░░█░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀▄▀▄▀▄▀▄▀░░█
% █░░░░░░░░░░░░░░█░░░░░░░░░░░░░░█░░░░░░██░░░░░░█░░░░░░██████████░░░░░░█░░░░░░░░░░░░░░█░░░░░░░░░░░░░░█
% ███████████████████████████████████████████████████████████████████████████████████████████████████

This chapter presents all instructions at a glance for quick info and to easily compare them when choosing most optimal combination for task at hand. Instructions are grouped into logical sections based on the area they operate on.

\minitoc

\pagebreak

\subsubsection{Instruction Execution}

\begin{tabular}{ll}
    B & 
        Number of bytes instruction uses in RAM\\
    Mc\notet & 
        Number of machine cycles instruction takes to complete\\
    Ts\notet & 
        Number of clock periods instruction requires to complete\\
\end{tabular}

\subsubsection{Flags}

\begin{tabular}{lp{13cm}}
    SF & 
        Set if 2-complement value is negative.\\
    ZF\notet & 
        Set if the result is zero. \\
    HY\notet & 
        The half-carry of an addition/subtraction (from bit 3 to 4). Needed for BCD correction with {\tt DAA} \\
    PV\notet & 
        This flag can either be the parity of the result ({\tt \FPP}), or 2-complement signed overflow ({\tt \FPV}): set if 2-complement value doesn’t fit in the register \\
    NF\notet & 
        Shows whether the last operation was an addition ({\tt 0}) or a subtraction ({\tt 1}). This information is needed for {\tt DAA} \\
    CF\notet & 
        The carry flag, set if there was a carry from the most significant bit \\
\end{tabular}

(copied from section \ref{flags} as convenience)

\subsubsection{Effects}

\begin{tabular}{cl}
    {\tt 0}/{\tt 1} & Flag is set to {\tt 0} or {\tt 1} \\
    {\tt \FS} & Flag is modified according to operation \\
    {\tt \FN} & Flag is not affected \\
    {\tt \FU} & Effect on flag is unpredictable \\
    {\tt VF} & P/V flag is used as overflow \\
    {\tt PF} & P/V flag is used as parity \\
    {\tt \FX} & Special case, see description under the table or in chapter \ref{instruction_details}
\end{tabular}

\subsubsection{Notes}

{\tt YF} and {\tt XF} flags are not represented in the tables; they're irrelevant from the programmer point of view. They usually contain a copy of bit 5 and 3 of the accumulator {\tt A}, but special cases are described.
	
I used 4 sources for comparing effects: Z80 undocumented\footnote{\url{http://www.myquest.nl/z80undocumented/}}, Programming the Z80 third edition\footnote{\url{http://www.z80.info/zaks.html}}, Zilog Z80 manual\footnote{\url{https://www.zilog.com/docs/z80/um0080.pdf}} and Next Dev Wiki\footnote{\url{https://wiki.specnext.dev/Extended_Z80_instruction_set}}. Where different and I couldn't verify, I opted for variant that matches most sources with slightly greater precedence for Next Dev Wiki side.


\pagebreak

% note: we are using input instead of include here, for some reason include messes up paging by inserting empty pages between certain sections ¯\_(ツ)_/¯

\input{chapter-instr-glance-8bit-arithmetic.tex}
\input{chapter-instr-glance-16bit-arithmetic.tex}
\input{chapter-instr-glance-8bit-load.tex}
\input{chapter-instr-glance-general.tex}
\input{chapter-instr-glance-16bit-load.tex}
\input{chapter-instr-glance-stack.tex}
\input{chapter-instr-glance-exchange.tex}
\input{chapter-instr-glance-bit.tex}
\input{chapter-instr-glance-rotate-shift.tex}
\input{chapter-instr-glance-jump.tex}
\input{chapter-instr-glance-call-return.tex}
\input{chapter-instr-glance-block.tex}
\input{chapter-instr-glance-input.tex}
\input{chapter-instr-glance-output.tex}
\input{chapter-instr-glance-next.tex}
\input{chapter-instr-glance-alphabetical.tex}